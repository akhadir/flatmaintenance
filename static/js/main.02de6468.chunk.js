(this["webpackJsonpflat-maintenance"]=this["webpackJsonpflat-maintenance"]||[]).push([[0],{214:function(e,t){},378:function(e,t){},479:function(e,t){},481:function(e,t){},505:function(e,t){},533:function(e,t){},535:function(e,t){},564:function(e,t){},566:function(e,t){},567:function(e,t){},573:function(e,t){},575:function(e,t){},578:function(e,t){},580:function(e,t){},600:function(e,t){},616:function(e,t){},619:function(e,t){},666:function(e,t){},693:function(e,t,a){},746:function(e,t,a){},755:function(e,t,a){},759:function(e,t,a){},760:function(e,t,a){},761:function(e,t,a){},762:function(e,t,a){},764:function(e,t){},765:function(e,t){},766:function(e,t,a){},767:function(e,t,a){},768:function(e,t,a){},769:function(e,t,a){},770:function(e,t,a){},771:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(381),s=a(106),o=a(861),c=a(51),l=a(430),d=a.n(l),p=a(431),u=a.n(p),h=a(427),g=a.n(h),b=a(426),j=a.n(b),m=a(429),O=a.n(m),v=a(428),y=a.n(v),S=a(107),A=a(126),f=a(385);let C=function(e){return e.LOAD_TRANS="LOAD_TRANS",e.LOAD_CASH_TRANS_SUCCESS="LOAD_CASH_TRANS_SUCCESS",e.LOAD_ONLINE_TRANS_SUCCESS="LOAD_ONLINE_TRANS_SUCCESS",e.LOAD_CASH_TRANS_FAILURE="LOAD_CASH_TRANS_FAILURE",e.LOAD_ONLINE_TRANS_FAILURE="LOAD_ONLINE_TRANS_FAILURE",e.UPDATE_MONTHLY_SPLIT="UPDATE_MONTHLY_SPLIT",e.RESET_MONTHLY_SPLIT="RESET_MONTHLY_SPLIT",e.UPDATE_MONTHLY_MAINT_SPLIT="UPDATE_MONTHLY_MAINT_SPLIT",e.RESET_MONTHLY_MAINT_SPLIT="RESET_MONTHLY_MAINT_SPLIT",e.RESET_TRANS="RESET_TRANS",e}({});const D={loading:!1,cashTransData:void 0,onlineTransData:void 0,monthlyCatSplit:void 0,error:""};var x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.LOAD_TRANS:return{...e,loading:!0};case C.LOAD_CASH_TRANS_SUCCESS:return{...e,loading:!1,cashTransData:t.payload,error:""};case C.LOAD_ONLINE_TRANS_SUCCESS:return{...e,loading:!1,onlineTransData:t.payload,error:""};case C.LOAD_CASH_TRANS_FAILURE:return{...e,loading:!1,cashTransData:void 0,error:t.payload};case C.LOAD_ONLINE_TRANS_FAILURE:return{...e,loading:!1,onlineTransData:void 0,error:t.payload};case C.UPDATE_MONTHLY_SPLIT:return{...e,monthlyCatSplit:t.payload,loading:!1};case C.RESET_MONTHLY_SPLIT:return{...e,monthlyCatSplit:void 0};case C.UPDATE_MONTHLY_MAINT_SPLIT:return{...e,monthlyMaintSplit:t.payload,loading:!1};case C.RESET_MONTHLY_MAINT_SPLIT:return{...e,monthlyMaintSplit:void 0};case C.RESET_TRANS:return D;default:return e}},T=a(384),E=a(47),I=a.n(E),N=a(30),w=a.n(N);const M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t={res:!1,error:""};if(e){const n=I.a.AES.decrypt(B.ENC_CLIENT_EMAIL,e),i=I.a.AES.decrypt(B.ENC_PRIVATE_KEY,e),r=I.a.AES.decrypt(B.ENC_CHAT_GPT_KEY,e),s=I.a.AES.decrypt(B.ENC_GOOGLE_API_KEY,e),o=I.a.AES.decrypt(B.ENC_GEMINI_KEY,e),c=I.a.AES.decrypt(B.OCR_SPACE_KEY,e);try{B.clientEmail=n.toString(I.a.enc.Utf8),B.privateKey=i.toString(I.a.enc.Utf8),B.googleAPIKey=s.toString(I.a.enc.Utf8),B.secret=e,B.chatGPTPrivateKey=r.toString(I.a.enc.Utf8),B.geminiKey=o.toString(I.a.enc.Utf8),B.ocrSpaceKey=c.toString(I.a.enc.Utf8),sessionStorage.setItem("session-id",e),t.res=!0}catch(a){B.secret="",t.res=!1,t.error="Invalid Secret Provided"}}else B.secret="",t.res=!1,t.error="Empty Secret Set";return t},R=["001","002","003","004","005","007","008","009","010","011","012","101","102","103","104","105","106","107","108","109","110","111","112","201","202","203","204","205","206","207","208","209","210","211","212","301","302","303","304","305","306","307","308","309","310","311","312","401","402","403","404","405","406","407","408","409","410","411","412"],k={transCategories:[{key:"maintenance",label:"Maintenance",children:R.map((e=>({key:`maintenance-${e}`,label:e})))},{key:"corpus",label:"Corpus Fund",children:R.map((e=>({key:`corpus-${e}`,label:e})))},{key:"monthly",label:"Monthly Expenses",children:[]},{key:"others",label:"Others",children:[{key:"fine",label:"Fine"},{key:"extra",label:"Other Income"},{key:"account-transfer",label:"FD Deposit"},{key:"tenant-deposit",label:"Tenant Deposit"},{key:"rd-deposit",label:"Deposit to RD account"}]}],transactionFinYear:w()().format("YY"),transSheetMonth:"",transactions:[]},Y="1aumDbLSTH31n1MFpguM0-THWslbR3ZPNCXSlI72WuBo",B={secret:sessionStorage.getItem("session-id")||"",SPREADSHEET_ID:Y,ENC_CLIENT_EMAIL:"U2FsdGVkX19lrOkAqkI1YRZkdHSjXZc+dtJNUzOhSlqaydB6Gxi4lm9MpS7+2/W7OtInfOCmh739buu1z1jzT/jJrAeRX2+hKkxc+3qsduw=",ENC_PRIVATE_KEY:"U2FsdGVkX1/i7T93uNMkvtV/hIYkButYpbgdWdXVf4ftrMUIjGc7OmaZRamJzAZNh3HKcvAW92t+mtWkIpJ2sLzLlB0BWWbBTZDPl+C/oD1YCcDZYCCPaHOcSvedvzBXLP3lGDi61mXPqPPGMDquh90g7oKvO8w+Oe6JIV8HQ9EYYB/rd/IRj34CP9K96NQDxcy06xsL2SfMMQuqSyBwRYYebogb4NZgpjfSKx6AJCvRnHkZMGBt2E0xtGm1UmS+XLq1Dlay8s2fJAYuF4yxSMjJpCzhOdTY0rhbTIQ8D3kZvJJU9+MCS4yqsVBCdqkWRqoQBBhHk8vSwb8ZTcomRUg4w6JDOu+HCT4vA6x5Jz8aSYu0CxZKndd4gHXy55YklnC728IKDavaEC13bNG/OrsBQL8P0IjzuomEAiQdFpdoQg81JmANZx1MbGD8NvdmuNEGzkTLPEssID5pO1AzGCepSeikWB8XXkJu+kHLGQe6SyBE7oxv5SDfeexWfkGOObo2Af9VbtZwg+jlVgKzf0lBj9NW0soC15VrpzV4t7oUpMT3Fe6d3oijHQ2hPxTYZMfuA8UsyO3WSTUbaxNWOpUbijJsDSUpENGQyr1XFSV4+3aN78prPt443BiaHAm8i50y9z2P7TJJteRrRE900MBm/9sMRK3fZb91VUJ9wsvmzRsJK7cxxBStx7T1k3wxQZCJisWXej+vqRlP0le95yB/2BikMV+nYyom4gQrySk8eW2rzvx26LS3LHf867SdpXSWzT7RBdIhxd6IXsK8B/fIjmR6zpeqMb/LUjRm4LcTn3UZgKEYDEFmgRGR07lsTP1czidqjCuOn+o9mZblzbsMFFAFzPhaj0ZKcO82vs3bHkDGIfoaN+EimD1ThwxlEehX08EOOKNLp19sxpUcwaxjbRgwunMh0o7J/H92TpsppRJJRfUEsI/ReI021yqkpiqRZcI/cEn3NykY1MualaqkuddoKqeD2LKjOmxaT26niNSsd/ffhjBD5f1DCWq84iXQaje6SIV1ZwesIUbUUG7MSTHI6Mf3LZuWIK/HQU/MhSYYtIHv7rvcJUyw0e/ZnUfKBRgyMYSLeTZI55MYPJ0HUGPJWIWnYMk8ESLBLnPnDknXo2m1i87Y37ui3Snqy7s6WW6nYlz1/HPexx/HQaQl5UsRGNre6+RREonqmL+B+AITWlN+bA4iLOnYfCg8OdyACDWBge3fwxduWWB4vtzlDNMx/Xqcb52BZAAh6d6Z7AE3t66ZfHv16VZnEEm14uV+zBgt41Mkfv0LNFZ6cqOjafwioFnMO9e3j738n2xwKMzcMzsdnhmHkyF7i7PLZqbTBp8P167/psPnfUV8vfcsmTombUUzOzViqJABfG6EczwhN19dd4lusGVDNrz43ywTA5zfU/jMcy1wk7i90rXo0HZSNNOuLGog2+qlx2xuyHORqdEVshb0BeJYckX95zjXLu6BuTO66vp4oIzecv9vprH3Jfx67mRvKKa+8xExXlY0BDM7vND5+EAZ0wz71MJonVjx/cXHqrSDxcnU1x5BJLAgZliQDZk/lAxBbUSuqvF21NBvZWGk2rDRKr5rTibBRDeOGoTQW1kRus87/YPBvThJ2OlFHkEAYskLyk8xPFTeC2XUJCEF7K6U3UpjL7LLWoCP+KcwazlItikvTzR44AAf2iFRf0+6wVQLZjpHZed0Z7KchTDyCm0ydVHuMAJjpogPjUbj26tbiICQ9SRtO+keG+JUHElkQzOe0bfsTuw8CqwPm6C1hNL9ReYYxrbwAwrZU8si4RWE1qSJ3cQXrxIOP275Uvsr5eUlgWYdJBrrYGUOjvQupB5CX9JL9SuH8Rfml2NzrMLWMM5mT9R1amUKLcl2ZyLkC4NDEmeqxPMtRtPLlQA/1aH939OdMbR5OZ9ozlSZFGiSS1eucvK44xvI4KCbFARx+urxXQgTSmZd/GwcFc5ZZXlojU8DTgQc5HTijP2x8iMptYYK/iPz2brWPs7LZsOiBaKCsbzWGdu/Lo3xJRqZoS5x7jGNl2q0JCj9/a0m7v+ODEZ6LaAQwsKX6M5iqNQ0YQWzlMClB6i1shbbrLsqtACXovqx9ACssZMVt7U9/WlDnmpjV+QT5Duhx8WBKehO2CeL2W9ZO8TtW+YDsV0mytvkXPwMl2RwMSAoNVau7b4CrU67z8BEVFcRKGHIURXxN/vithCvLR7Kk8+37cF16NOLBu1t6uixXH+0371xj74wJf7RFeeceyeZvGDrAsJ5qRvqD+vsAjl3EGUJySw1BJryedcR",ENC_GOOGLE_API_KEY:"U2FsdGVkX1+z10t9/VGkdh+xgB9JO7TwDIGpiW5ivAoQrmKV9c77947cJH49fTgzZcc5DSaLNH1jlCpIiLbSuw==",ENC_CHAT_GPT_KEY:"U2FsdGVkX19CE/c8Tng+qxPTykma92uBwnVA8hVNUPhl5desREv8awMfLxjN2ZnKC23rEB6XcYTSzVfgEwgEqQPZuhXq3Ef0cng56m8DqyI=",ENC_GEMINI_KEY:"U2FsdGVkX1+ja6BvyIZ4xRS/wHKtCFsD22qQ0wfw/U30gL6c2FfqhrQyqt25ch1C77vdq1A7rlLZ0RKBXXjmaQ==",OCR_SPACE_KEY:"U2FsdGVkX1/Je2pGMUWIY8Mnid+Xulw55FuCkiYcNvU=",doc:new T.GoogleSpreadsheet(Y),appData:k},L=()=>B;B.secret&&M(B.secret);const P=i.a.createContext(B);var U=P,_=function(e){return e.INIT="INIT",e.INIT_SUCCESS="GET_SHEET_INFO",e.INIT_FAILURE="GET_SHEET_INFO_FAILURE",e.SET_SHEET_INFO="SET_SHEET_INFO",e}(_||{}),F=_;const H={initError:"",sheetConfig:L(),sheetInfo:new Map};var K=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.INIT:return{...e,initializing:!0};case F.INIT_SUCCESS:return{...e,initializing:!1,appConfig:t.payload};case F.INIT_FAILURE:return{...e,initializing:!1,initError:t.payload};case F.SET_SHEET_INFO:return{...e,sheetInfo:t.payload};default:return e}};let J=function(e){return e.INIT="INIT",e.SUCCESS="SUCCESS",e.FAILURE="FAILURE",e.SET_CONFIG="SET_CONFIG",e.ADD_EVENTS="ADD_EVENTS",e}({});const W={isLoading:!1,data:{},config:{encBotId:"U2FsdGVkX1/0gDV/ibea6VfAgozs8tNyWPB0zt3iRLDsNORNjxOhmloQXZl7ywLjxeQl4Bmxe3iZ7RLdUxi+BA==",listURL:"https://state-tourniquet.000webhostapp.com/suraksha/telegram/get.php",fetchURL:"https://api.telegram.org/bot{{botId}}/getFile?file_id={{fileId}}",downloadURL:"https://api.telegram.org/file/bot{{botId}}/photos/{{filePath}}",updateURL:"https://state-tourniquet.000webhostapp.com/suraksha/telegram/processed.php?id={{recordId}}"},layoutData:void 0,events:[]};var q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.INIT:return{...e,isLoading:!0,layoutData:t.payload};case J.SUCCESS:return{...e,isLoading:!1,data:t.payload,error:void 0};case J.FAILURE:return{...e,isLoading:!1,data:void 0,error:t.payload};case J.SET_CONFIG:return{...e,config:t.payload};case J.ADD_EVENTS:return{...e,events:[...e.events,t.payload]};default:return e}};var V=Object(A.b)({sheet:K,trans:x,bills:q});const G=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A.c;var z=Object(A.d)(V,G(Object(A.a)(f.a))),Z=a(848),X=a(853),$=a(875),Q=a(876),ee=a(877),te=a(878),ae=a(866),ne=a(1);function ie(e){const[t,a]=i.a.useState(!0),[r,s]=i.a.useState(""),o=Object(n.useCallback)((()=>{e.handleSecret(r)}),[e,r]),c=Object(n.useCallback)((e=>{s(e.target.value)}),[]),l=Object(n.useCallback)((t=>{13===(t.keyCode?t.keyCode:t.which)&&e.handleSecret(r)}),[e,r]);return Object(ne.jsxs)(Z.a,{open:t,keepMounted:!0,"aria-labelledby":"Secret Key","aria-describedby":"Enter your secret key",children:[Object(ne.jsx)(X.a,{id:"alert-dialog-slide-title",children:"Enter the secret key!!!"}),Object(ne.jsxs)($.a,{children:[Object(ne.jsx)(Q.a,{id:"alert-dialog-slide-description",children:"Check with other committee members, if secret key is not known."}),Object(ne.jsx)(ee.a,{type:"password",value:r,onChange:c,onKeyPress:l}),Object(ne.jsx)("div",{className:"error",children:e.errorMsg})]}),Object(ne.jsx)(te.a,{children:Object(ne.jsx)(ae.a,{onClick:o,disabled:!r,color:"primary",children:"OK"})})]})}var re=a(16),se=a(879),oe=a(398),ce=a.n(oe),le=a(397),de=a.n(le),pe=(a(693),a(64)),ue=a.n(pe),he=a(393),ge=a(395),be=a.n(ge),je=a(396);const me=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.floor(Date.now()/1e3+3600);const{clientEmail:t,privateKey:a}=L(),n={iss:t,sub:"",aud:"https://www.googleapis.com/oauth2/v4/token",scope:"https://www.googleapis.com/auth/drive",exp:e,iat:Math.floor(Date.now()/1e3),jti:Object(je.uuid)()};return be.a.sign(n,a||"",{algorithm:"RS256"})},Oe=async()=>{const{clientEmail:e}=L(),t={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",client_id:e,assertion:await me()},a=await ue.a.post("https://www.googleapis.com/oauth2/v4/token",t);if(200===a.status)return a.data.access_token;throw new Error(a.data)};const ve="VERIFIED_",ye="1-6owJyxGQSwRKxcJyMI3NXY4v-APeBui";async function Se(e){const{googleAPIKey:t}=L(),a=encodeURI(`'${e||ye}' in parents and (mimeType = 'image/jpeg' or mimeType = 'image/png' or mimeType = 'application/pdf' or mimeType = 'application/vnd.google-apps.folder')`);try{const e=await ue.a.get(`https://www.googleapis.com/drive/v3/files?q=${a}&key=${t}`),{files:n}=e.data;return console.log("Fetched files:",n),n}catch(n){console.error("Error fetching files:",(null===n||void 0===n?void 0:n.message)||n)}return[]}const Ae=async(e,t)=>{try{const a=await Oe(),n=await ue.a.patch(`https://www.googleapis.com/drive/v3/files/${e}`,{name:`${ve}${t}`},{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(console.log("File moved successfully:",n.data),200===n.status)return n.data}catch(a){console.error("Error occurred while moving the file:",a)}return null};const fe=()=>L().ocrSpaceKey||"",Ce="https://api.ocr.space/parse/image",De=e=>{const t=new FormData;return t.append("url",e),t.append("language","eng"),t.append("isTable","true"),t.append("OCREngine","5"),t.append("filetype",".Auto"),Object(he.a)(ue.a,{retries:3}),ue.a.post(Ce,t,{headers:{"Content-Type":"multipart/form-data",apikey:fe()}}).catch((e=>{console.error(e)}))};const xe=async e=>{const t=function(e){let t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);const a=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(t.length);for(let i=0;i<t.length;i+=1)n[i]=t.charCodeAt(i);return new Blob([n],{type:a})}(e),a=new File([t],"canvasImage.jpg",{type:"image/jpeg"}),n=new FormData;n.append("base64Image",a);return await ue.a.post(Ce,n,{headers:{"Content-Type":"multipart/form-data",apikey:fe()}})};var Te=a(229);class Ee{constructor(){if(this.chatGPTPrivateKey="",this.openAI=void 0,this.appConfig=void 0,this.appConfig=L(),this.appConfig.chatGPTPrivateKey){this.chatGPTPrivateKey=this.appConfig.chatGPTPrivateKey;const e=new Te.Configuration({organization:"org-wfOq673LgvxydlfXwY3Fmcvm",apiKey:this.chatGPTPrivateKey});this.openAI=new Te.OpenAIApi(e)}}async getCompleted(e){return this.openAI?this.openAI.createCompletion({model:"text-davinci-003",prompt:"Say this is a test",max_tokens:7,temperature:0,top_p:1,n:1,stream:!1,logprobs:null,stop:"\n"}):Promise.resolve("")}static getInstance(){return Ee.instance||(Ee.instance=new Ee),Ee.instance}}Ee.instance=void 0;var Ie=Ee;var Ne=function(){const e=Object(n.useRef)(),[t,a]=Object(n.useState)(),[i,r]=Object(n.useState)(!0),s=Object(n.useCallback)((()=>{const n=e.current||{};!t&&n&&n.takePhoto?(a(n.takePhoto()),r(!1)):a(void 0)}),[e,t]),o=Object(n.useCallback)((()=>{r((e=>!e))}),[]),c=i?"cash-trans block-page":"cash-trans",[l,d]=Object(n.useState)();return Object(n.useEffect)((()=>{t&&xe(t).then((async e=>{const{ParsedText:t}=e.data.ParsedResults[0]||{};if(t){const e=await Ie.getInstance().getCompleted(t);d(e)}}))}),[t]),Object(ne.jsxs)("div",{className:c,children:[Object(ne.jsx)("div",{children:"Handle Cash Transactions"}),Object(ne.jsx)("pre",{children:JSON.stringify(l,void 0,4)}),!t&&Object(ne.jsx)(se.a,{className:"close-camera","aria-label":"Take Photo",onClick:o,children:i?Object(ne.jsx)(de.a,{}):Object(ne.jsx)(ce.a,{})}),Object(ne.jsx)(se.a,{className:"camera-click","aria-label":"Take Photo",onClick:s,children:Object(ne.jsx)("img",{src:"/images/circular-camera.png",alt:"Take Pic"})})]})};var we=()=>Object(ne.jsx)(Ne,{}),Me=a(142),Re=a(867),ke=a(785),Ye=a(886),Be=a(862);var Le={"Audit Fees":1,BWSSB:2,Diesel:3,Bescom:4,"House Keeping Salary":5,Security:6,"Garden Maintenance":7,"Garbage Collection Vendor / BBMP":8,"Borewell And Motor Maintenance":9,"Annual Bonus":10,"Lift Maintenance":11,"HK Items Purchased":12,"Health Club Maintenance":13,"Electrical / Plumbing Repairs":14,"Apartment repairs related":15,"Apartment Safety":16,"CCTV / Intercomm":17,"Misc expenses":18,"Apartment developments":19,"Apartment Work By Security and Others":20,"Septic Tank Repairs / Cleaning":21,"Water Tanks Cleaning":22,"Generator Maintenance and Repair":23,"Savings Bank SMS Charges/Cheque book":24,"Festival/Holiday Celebration":25,"Drinking Water for Employees":26,"BAF Subscription Charges":27,"Maintenance Collection":30,"Income Tax Refund":31,"Other Income":32,"Interest on account":33,"Fine / Extra Payment Received":34,"Corpus Fund":35,"Tenant Deposit from the Owners":36,"FD Deposit":37,"Deposit to RD account":38};var Pe={Apr:2,May:3,Jun:4,Jul:5,Aug:6,Sep:7,Oct:8,Nov:9,Dec:10,Jan:11,Feb:12,Mar:13},Ue={"001":1,"002":2,"003":3,"004":4,"005":5,"007":6,"008":7,"009":8,"010":9,"011":10,"012":11,101:12,102:13,103:14,104:15,105:16,106:17,107:18,108:19,109:20,110:21,111:22,112:23,201:24,202:25,203:26,204:27,205:28,206:29,207:30,208:31,209:32,210:33,211:34,212:35,301:36,302:37,303:38,304:39,305:40,306:41,307:42,308:43,309:44,310:45,311:46,312:47,401:48,402:49,403:50,404:51,405:52,406:53,407:54,408:55,409:56,410:57,411:58,412:59};var _e={Apr:2,May:3,Jun:4,Jul:5,Aug:6,Sep:7,Oct:8,Nov:9,Dec:10,Jan:11,Feb:12,Mar:13};let Fe;class He{constructor(){this.currentSheet="",this.initialized=!1,this.appConfig=void 0,this.appConfig=L()}init(){return this.initialized?Promise.resolve(this.appConfig.doc):new Promise(((e,t)=>{const{doc:a}=this.appConfig;a.useServiceAccountAuth({client_email:this.appConfig.clientEmail||"",private_key:this.appConfig.privateKey||""}).then((()=>{a.loadInfo().then((()=>{this.initialized=!0,e(a)})).catch((e=>{console.log(e)}))})).catch((e=>{console.log(e),t(e)}))}))}getSpreadSheet(){return this.appConfig.doc}async getSheetByTitleAsJson(e){const t=[],a=await this.getSheetByTitle(e);let n=a.headerValues,i=a.columnCount;if(!n||0===n.length){n=[];for(let e=0;e<i;e+=1){const{value:t}=a.getCell(0,e);t&&n.push(a.getCell(0,e).value.toString())}}i=n.length;const{rowCount:r}=a;for(let s=1;s<r;s+=1){const e={},r=[];for(let t=0;t<i;t+=1){const i=n[t],o=a.getCell(s,t).formattedValue;e[i]=o,r.push(o)}if(!r.some((e=>null!==e)))break;t.push(e)}return t}async getSheetByTitle(e){var t;const a=null===(t=this.appConfig.doc)||void 0===t?void 0:t.sheetsByTitle[e];return a&&(this.currentSheet=a.sheetId,await a.loadCells()),a}async getSheet(e){this.currentSheet=e;const t=this.appConfig.doc.sheetsById[e];return await t.loadCells(),t}appendSheet(e,t){return this.appConfig.doc.sheetsById[e].addRow(t)}append(e){return this.appConfig.doc.sheetsById[this.currentSheet||""].addRow(e)}async appendRows(e){const t=this.appConfig.doc.sheetsById[this.currentSheet||""];await t.addRows(e)}getSheetRow(e,t){return this.appConfig.doc.sheetsById[e].getRows({limit:1,offset:t})}getRow(e){return this.appConfig.doc.sheetsById[this.currentSheet||""].getRows({limit:1,offset:e})}getColumn(e){const t=this.appConfig.doc.sheetsById[this.currentSheet||""],a=[],n=t.rowCount<100?t.rowCount:100;for(let i=0;i<n-1;i+=1)a.push(t.getCell(i,e));return a}getColumnWithSheet(e,t){const a=[],n=e.rowCount<100?e.rowCount:100;for(let i=0;i<n-1;i+=1)a.push(e.getCell(i,t));return a}getSheetColumn(e,t){const a=this.appConfig.doc.sheetsById[e],n=[],i=a.rowCount<100?a.rowCount:100;for(let r=0;r<i-1;r+=1)n.push(a.getCell(r,t));return n}getSheetCell(e,t,a){return this.appConfig.doc.sheetsById[e].getCell(t,a)}getCell(e,t){return this.appConfig.doc.sheetsById[this.currentSheet||""].getCell(e,t)}saveSheetCells(e,t){return this.appConfig.doc.sheetsById[e].saveCells(t)}saveCells(e){return this.appConfig.doc.sheetsById[this.currentSheet||""].saveCells(e)}addSheet(e){return this.appConfig.doc.addSheet(e)}async saveSheetWithJSON(e){const t=this.appConfig.doc.sheetsById[this.currentSheet||""];await this.updateSheet(t,e)}async updateCategorySheet(e){const t=await this.getSheetByTitle("Summary");await t.loadCells();return Object.keys(e).forEach((a=>{const n=e[a],i=Object.keys(n),r=a.replace(/-\d+$/,""),s=Pe[r];i.forEach((e=>{const a=Le[e];if("undefined"!==typeof a&&"undefined"!==typeof s){t.getCell(a,s).value=n[e]}}))})),t.saveUpdatedCells()}async udpateMaintenanceSheet(e){const t=await this.getSheetByTitle("Maintanence");await t.loadCells();return Object.keys(e).forEach((a=>{const n=e[a],i=Object.keys(Ue),r=a.replace(/-\d+$/,""),s=_e[r];i.forEach((e=>{const a=Ue[e];if("undefined"!==typeof a&&"undefined"!==typeof s){t.getCell(a,s).value=n[e]}}))})),t.saveUpdatedCells()}async searchUpdateRecord(e,t,a,n){const i=await this.getSheetByTitle(e),r=await i.getRows(),s=r.findIndex((e=>Object.entries(t).every((t=>{let[a,n]=t;return e[a]===n}))));if(-1===s)throw console.log("Record not found."),new Error("RECORD_NOT_FOUND");{const e=r[s];e[a]?console.log("Record found but input column is not empty."):(e[a]=n,await e.save(),console.log("Record updated successfully."))}}isEmptySheet(e){return!e||0===e.rowCount}async updateSheet(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t&&t.length){const n=Object.keys(t[0]),i=n.length,r=a+t.length;for(let s=a;s<r;s+=1){const a=t[s];for(let t=0;t<i;t+=1){const i=e.getCell(s+1,t),r=a[n[t]];i.formattedValue!==r&&(i.value=r)}}}await e.saveUpdatedCells()}async updateSheetWithJSON(e,t){t&&await this.getSheetByTitle(t),await this.appendRows(e)}static getInstance(){return Fe||(Fe=new He,Fe.init()),Fe}}var Ke=He.getInstance();const Je=()=>({type:F.INIT}),We=e=>({type:F.INIT_SUCCESS,payload:e}),qe=e=>({type:F.INIT_FAILURE,payload:e});let Ve=function(e){return e.and="and",e.or="or",e.xor="xor",e.not="not",e.nand="nand",e.nor="nor",e}({});var Ge=class{constructor(e){this.query=void 0,this.query=e}run(e){return Object.keys(this.query).every((t=>{const a=this.query[t];switch(t){case Ve.or:return a.some((t=>e(t)));case Ve.nor:return!a.some((t=>e(t)));case Ve.xor:{const t=a.map((t=>e(t)));return t.some((e=>!0===e))&&t.some((e=>!1===e))}case Ve.nand:case Ve.not:return!a.every((t=>e(t)));case Ve.and:default:return a.every((t=>e(t)))}}))}};const ze=4,Ze={};function Xe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;const a=String(e).toLowerCase(),n=[];let i,r=-1;for(;++r<a.length;){const e=a.charAt(r);let t=Ze[e];0===r?n.push(e.toUpperCase()):t&&t!==i?n.push(t):t=0===t?void 0:i,i=t}return function(e){const t=ze-e.length;let a=-1;for(;++a<t;)e+="0";return e}(n.join("")).slice(0,t||ze)}Ze.a=Ze.e=Ze.i=Ze.o=Ze.u=Ze.y=0,Ze.b=Ze.f=Ze.p=Ze.v=1,Ze.c=Ze.g=Ze.j=Ze.k=Ze.q=Ze.s=Ze.x=Ze.z=2,Ze.d=Ze.t=3,Ze.l=4,Ze.m=Ze.n=5,Ze.r=6;const $e=(e,t)=>t.split(/\s+/).some((t=>Xe(t.toString())===Xe(e))),Qe=(e,t)=>t.some((t=>Xe(t.toString())===Xe(e)));var et=class{constructor(e){this.query=void 0,this.query=e}run(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!1;const{opr:n,value:i}=this.query;if(e&&i)switch(n){case"==":a=e.toString()===i.toString()||$e(i.toString(),e.toString());break;case"!=":a=e.toString()!==i.toString();break;case">":a=e>i;break;case">=":a=e>=i;break;case"<":a=e<i;break;case"<=":a=e<=i;break;case"having":if("string"===typeof e)if(Array.isArray(i))a=i.some((a=>{const n=a.toString(),i=e.toLowerCase(),r=n.toLowerCase();return i.indexOf(r)>-1||!t&&$e(r,i)}));else{const n=i.toString(),r=e.toLowerCase(),s=n.toLowerCase();a=r.indexOf(s)>-1||!t&&$e(s,r)}break;case"regex":if(Array.isArray(i))a=i.some((t=>{var a;const n=t.toString(),i=new RegExp(n,"i");return(null===(a=e.match(i))||void 0===a?void 0:a.length)>0}));else{var r;const t=i.toString(),n=new RegExp(t,"i");a=(null===(r=e.match(n))||void 0===r?void 0:r.length)>0}break;case"in":Array.isArray(i)&&(a="string"===typeof i[0]?i.indexOf(e.toString())>-1||Qe(e.toString(),i):i.indexOf(e)>-1);break;case"range":Array.isArray(i)&&(a="undefined"===typeof i[0]||e>=i[0],a=a&&("undefined"===typeof i[1]||e<=i[1]))}return a}};class tt{constructor(e){this.query=void 0,this.query=e}run(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object.keys(this.query).every((a=>{const n=this.query[a];let i=!1;if(Array.isArray(n))i=n.every((n=>{const i=new et(n),r=e[a];return i.run(r,t)}));else{i=new Ge(n).run((n=>{const i=new et(n),r=e[a];return i.run(r,t)}))}return i}))}}class at{constructor(e){this.catFieldMap=void 0,this.catFieldMap=e}run(e){const t=Object.keys(this.catFieldMap);e.forEach((e=>{if(!e.Category){const a=t.find((t=>{const a=this.catFieldMap[t];let n;if(Array.isArray(a))n=a.every((t=>new tt(t).run(e)));else{n=new Ge(a).run((t=>new tt(t).run(e)))}return n}));e.Category=a}}))}}var nt={"Maintenance Collection":[{Credit:[{opr:"in",value:["3,200.00","3200","2,700.00","2700","2,800.00","2800","500.00","500","6,400.00","6400","9,600.00","9600","12,800.00","12800","19,000.00","19000"]}],Description:[{opr:"having",value:["maintenance","neft","upi","imps"]}]}],"Audit Fees":[{Description:[{opr:"having",value:["N YASWANTH","YASWANTH","audit","audit fees"]}]}],"Corpus Fund":[{Credit:[{opr:"in",value:["7500","7,500.00","15,000.00","15000","22,500.00","22500","30,000.00","30000","37,500.00","37500","45,000.00","45000"]}],Description:[{opr:"having",value:["corpus","neft","upi","imps"]}]}],"Income Tax Refund":[{Credit:[{opr:"in",value:["ACH","AY20","ACH Credit","AAKAS1985M"]}]}],Bescom:[{Description:[{opr:"having",value:["BESCOM","Electricity","EBANK:BBPS"]}]}],BWSSB:[{Debit:[{opr:"range",value:[14e3,16500]}],Description:[{opr:"having",value:["BANGALORE WATER SUPPLY","BWSSB","BANGALORE ONE","EBANK:BBPS"]}]}],"CCTV / Intercomm":[{Description:[{opr:"having",value:["SHANKAR TELECOM LINKS","Intercom"]}]}],Security:[{Debit:[{opr:"in",value:[35e3,35e3,41e3,41e3]}]}],"House Keeping Salary":[{Description:[{opr:"regex",value:["keeping","housekeeping","house keeping","Housekeeping.+Salary","House keeping.+Salary","house-keeping.+salary","housekeeping.+ladies","hk.+salary","hyrunni","sunanda"]}]}],"Garden Maintenance":[{Description:[{opr:"regex",value:["garden","gardner","Gardner.+Salary","garden.+work","Manure"]}]}],"Garbage Collection Vendor / BBMP":[{Description:[{opr:"having",value:["SYED ALI BASHA","RR CLEANING","RR CLEAN"]}]}],"Borewell And Motor Maintenance":[{Description:[{opr:"having",value:["borewell","motor","coil","winding"]}]}],"Lift Maintenance":[{Description:[{opr:"regex",value:["JOHNSON.+LIFTS","Lift"]}]}],"HK Items Purchased":[{Description:[{opr:"regex",value:["Housekeeping.+Items","Housekeeping.+Material","hk.+item","HK.+Material","bleaching","garbage drum","powder","mop","dust","dustbin","soap","detergent","broom","switch","tubelight","switch","light","bulb","Phenoyl","powder","phenoyl","sanitizer","cleaner","dettol","bottle","neem oil","tap","kerosene"]}]}],"Electrical / Plumbing Repairs":[{Description:[{opr:"having",value:["electric repair","electric work","electric","Chamundi","plumbing"]}]}],"Septic Tank Repairs / Cleaning":[{Description:[{opr:"having",value:["septik","septic","septic tank","sewage","sewage tank","sewage work","sewage pipe"]}]}],"Water Tanks Cleaning":[{Description:[{opr:"regex",value:["water.+tank","cauvery","kaveri"]}]}],"Generator Maintenance and Repair":[{Description:[{opr:"regex",value:["venus.+energy","kirloskar","generator"]}]}],"Savings Bank SMS Charges/Cheque book":[{Description:[{opr:"regex",value:["SMS .+Alert","cheque.+book","charges","chq.+book"]}]}],"Health Club Maintenance":[{Description:[{opr:"having",value:["gym","FITNESS","sports"]}]}],"Festival/Holiday Celebration":[{Description:[{opr:"regex",value:["diwali.+work","diwali","festival","celebration","pooja","pongal","independence","republic","sweets","flag"]}]}],"Drinking Water for Employees":[{Description:[{opr:"having",value:["drinking","drinking water","mineral water","water purchase"]}]}],Diesel:[{Description:[{opr:"regex",value:["Diesel"]}]}],"BAF Subscription Charges":[{Description:[{opr:"regex",value:["BAF","BAF Subscription"]}]}],"Annual Bonus":[{Description:[{opr:"regex",value:["bonus"]}]}],"Interest on account":[{Description:[{opr:"having",value:["89630100005613"]}]}],"FD Deposit":[{Description:[{opr:"having",value:["TO TRANSFER","Repayment Credit"]}]}],"Tenant Deposit from the Owners":[{Credit:[{opr:"in",value:["10,000.00","10000"]}]}],"Apartment Work By Security and Others":[{Description:[{opr:"regex",value:["Apartment.+Work","Cleaning.+Rain Water"]}]}],"Apartment Safety":[{Description:[{opr:"having",value:["sanitization","sanitizing","mask","sheild","shield","spray","cutting tree","fire","extinguisher","rat poison"]}]}],"Apartment developments":[{Description:[{opr:"having",value:["stationery","pen","paper","folder","files","notebook","note book","note-book","entry book","reciept book","bought","purchased","purchase of","cash voucher"]}]}],"Apartment repairs related":[{Description:[{opr:"having",value:["cement work","cement","service","repair","spanner","fixing","fixed"]}]}],"Misc expenses":[{Description:[{opr:"having",value:["tea","coffee"]}]}],"Fine / Extra Payment Received":[{Description:[{opr:"having",value:["maintenance","neft","upi","imps"]}],Credit:[{opr:"regex",value:["\\d"]}]}],"Other Income":[{Description:[{opr:"having",value:["income","other"]}],Credit:[{opr:">",value:0}]}],"Cash Withdrawal / in hand":{or:[{Description:[{opr:"regex",value:["cash","withdrawal","bank","basavaraj","carry.+forwarded","self"]}]},{"Cheque No":[{opr:"regex",value:["\\d+"]}]}]},"Deposit to RD account":[{Description:[{opr:"having",value:["3715125","SI:89630300010611"]}]}]},it={"001":[{Description:[{opr:"having",value:["khadir","MOHAMEDABDULKHA"]}]}],"002":[{Description:[{opr:"having",value:["jyotiprakash.jpl.99","jyoti prakash","jyotiprakash","shainv","potti","MAHESH"]}]}],"003":[{Description:[{opr:"having",value:["gulshan","padma","6364883334","subhrojyoti","6289470044"]}]}],"004":[{Description:[{opr:"having",value:["ANAND ESHWARDAS","ANAND","ESHWARDAS"]}]}],"005":[{Description:[{opr:"having",value:["KOPRESH"]}]}],"007":[{Description:[{opr:"having",value:["007"]}]}],"008":[{Description:[{opr:"having",value:["NITHIN","/008","Repaka"]}]}],"009":[{Description:[{opr:"having",value:["rutvijkanzaria","PRATIK","9120182537"]}]}],"010":[{Description:[{opr:"having",value:["ANANTH","BHASKAR","PAKALAPATI"]}]}],"011":[{Description:[{opr:"having",value:["AKARSH","AKARSHPRAVEENRAJ"]}]}],"012":[{Description:[{opr:"having",value:["kbg2000@okicici","K B GANESH","GANESH","VIVEKNAYAK","VIVEK NAYAK"]}]}],101:[{Description:[{opr:"having",value:["VIJAYAKUMAR T","VIJAYAKUMAR"]}]}],102:[{Description:[{opr:"having",value:["ARNAB","CHAKRABORTY","ARNABCHAKRABORT"]}]}],103:[{Description:[{opr:"having",value:["KRISHNA KUMAR","KRISHNAKUMAR"]}]}],104:[{Description:[{opr:"having",value:["AMIT KUMAR","KARMAKAR","AMITKUMAR"]}]}],105:[{Description:[{opr:"having",value:["JOHN PINTO","JOHN","MURUGAN","VIKASVERMA","VIKAS VERMA","MB105","105MAINTENA","8892757591"]}]}],106:[{Description:[{opr:"having",value:["mr.uttammohanty","uttam"]}]}],107:[{Description:[{opr:"having",value:["POLAKALA","NARAYANA PRASAD"]}]}],108:[{Description:[{opr:"having",value:["EMMANUEL RAJA A","EMMANUEL"]}]}],109:[{Description:[{opr:"having",value:["K S A RAJA RAM KUMAR","RAJARAMKUMAR"]}]}],110:[{Description:[{opr:"having",value:["SONYKUMARI","SONY KUMARI","PAVAN DEVARU","PAVANDEVARU","MOBLTA"]}]}],111:[{Description:[{opr:"having",value:["SENTHILKUMAR","SENTHIL"]}]}],112:[{Description:[{opr:"having",value:["ARINDAM"]}]}],201:[{Description:[{opr:"having",value:["ESWAR KRISHNAN","ESWAR","KARTHIKEYAN","flat201","ARIJIT"]}]}],202:[{Description:[{opr:"having",value:["SRIHARSHA","SRI HARSHA"]}]}],203:[{Description:[{opr:"having",value:["NILOTPALDAS"]}]}],204:[{Description:[{opr:"having",value:["AMLANJYOTI","AMLAN"]}]}],205:[{Description:[{opr:"having",value:["VIKRAMADITYA","IKRAMADITYA"]}]}],206:[{Description:[{opr:"having",value:["PINAKI","vishnupb619"]}]}],207:[{Description:[{opr:"having",value:["8015616123","RAVI TEJA","tr.1993@axisb","SRINIVAS","prashant.dombale"]}]}],208:[{Description:[{opr:"having",value:["JESUDOSS"]}]}],209:[{Description:[{opr:"having",value:["MULUKUTLA","AJU JAMES","AJUJAMES","T R RAJARAM","TRRAJARAM","CHALAPATHI"]}]}],210:[{Description:[{opr:"having",value:["TARANBIR","IMPSMBRSur"]}]}],211:[{Description:[{opr:"having",value:["9972528008","pranjan"]}]}],212:[{Description:[{opr:"having",value:["SURAJIT"]}]}],301:[{Description:[{opr:"having",value:["PRABUDH"]}]}],302:[{Description:[{opr:"having",value:["BALAJI"]}]}],303:[{Description:[{opr:"having",value:["SURENDRA"]}]}],304:[{Description:[{opr:"having",value:["MEHDI"]}]}],305:[{Description:[{opr:"having",value:["VIVIN"]}]}],306:[{Description:[{opr:"having",value:["ASHIM","DEBAJYOTI","MUTHIAH"]}]}],307:[{Description:[{opr:"having",value:["SAMPREETH","maddyrocks"]}]}],308:[{Description:[{opr:"having",value:["PRAHLAD"]}]}],309:[{Description:[{opr:"having",value:["7406849918","prasad.kiran","kbv018@okhdfcbank"]}]}],310:[{Description:[{opr:"having",value:["PREMA"]}]}],311:[{Description:[{opr:"having",value:["GURUPRASADA","CHOKKADI"]}]}],312:[{Description:[{opr:"having",value:["SHAKTHI","VINAYAK"]}]}],401:[{Description:[{opr:"having",value:["HARISHA"]}]}],402:[{Description:[{opr:"having",value:["cooldharsha","DHARSHA","JITHA","JITHAJAMES","JITHA JAMES"]}]}],403:[{Description:[{opr:"having",value:["8147758124","shaheer"]}]}],404:[{Description:[{opr:"having",value:["NOBROKER","/404Main","MOHAMMED SAIF"]}]}],405:[{Description:[{opr:"having",value:["SANTOSHKUMAR","/405main","SANTHOSH KUMAR","MALLA"]}]}],406:[{Description:[{opr:"having",value:["PRAVEENVIJAY","PRAVEEN VIJAY"]}]}],407:[{Description:[{opr:"having",value:["GALLA","VARADARAJU"]}]}],408:[{Description:[{opr:"having",value:["UDAY KIRAN","UDAY","YAGNAMURTHY"]}]}],409:[{Description:[{opr:"having",value:["PRABU","SUNDARRAJU","Jeevanantham"]}]}],410:[{Description:[{opr:"having",value:["SIVASANKAR","HANUMANTHA","GANGJI","rohinimh19","ROHINI","MALLIKARJUN"]}]}],411:[{Description:[{opr:"having",value:["NATESAN","ADITYA KOLLURI","ADITYAKOLLURI","santumahapatra","santu mahapatra"]}]}],412:[{Description:[{opr:"having",value:["CHIRANJAN","PAVITHRADM","PAVITHRA"]}]}]};class rt{constructor(e){this.catFieldMap=void 0,this.catFieldMap=e}run(e){const t=Object.keys(this.catFieldMap);e.forEach((e=>{if(!e.Flat){const a=t.find((t=>{const a=this.catFieldMap[t];let n;if(Array.isArray(a))n=a.every((t=>new tt(t).run(e,!0)));else{n=new Ge(a).run((t=>new tt(t).run(e,!0)))}return n}));e.Flat=a}}))}}let st=function(e){return e["Audit Fees"]="Audit Fees",e.BWSSB="BWSSB",e.Diesel="Diesel",e.Bescom="Bescom",e["House Keeping Salary"]="House Keeping Salary",e.Security="Security",e["Garden Maintenance"]="Garden Maintenance",e["Garbage Collection Vendor / BBMP"]="Garbage Collection Vendor / BBMP",e["Borewell And Motor Maintenance"]="Borewell And Motor Maintenance",e["Annual Bonus"]="Annual Bonus",e["Lift Maintenance"]="Lift Maintenance",e["HK Items Purchased"]="HK Items Purchased",e["Health Club Maintenance"]="Health Club Maintenance",e["Electrical / Plumbing Repairs"]="Electrical / Plumbing Repairs",e["Apartment repairs related"]="Apartment repairs related",e["Apartment Painting"]="Apartment Painting",e["CCTV / Intercomm"]="CCTV / Intercomm",e["Misc expenses"]="Misc expenses",e["Apartment developments"]="Apartment developments",e["Apartment Work By Security and Others"]="Apartment Work By Security and Others",e["Septic Tank Repairs / Cleaning"]="Septic Tank Repairs / Cleaning",e["Water Tanks Cleaning"]="Water Tanks Cleaning",e["Generator Maintenance and Repair"]="Generator Maintenance and Repair",e["Savings Bank SMS Charges/Cheque book"]="Savings Bank SMS Charges/Cheque book",e["Festival/Holiday Celebration"]="Festival/Holiday Celebration",e["Drinking Water for Employees"]="Drinking Water for Employees",e["BAF Subscription Charges"]="BAF Subscription Charges",e["Maintenance Collection"]="Maintenance Collection",e["Income Tax Refund"]="Income Tax Refund",e["Other Income"]="Other Income",e["Interest on account"]="Interest on account",e["Fine / Extra Payment Received"]="Fine / Extra Payment Received",e["Corpus Fund"]="Corpus Fund",e["Tenant Deposit from the Owners"]="Tenant Deposit from the Owners",e["FD Deposit"]="FD Deposit",e}({});const ot=()=>({type:C.LOAD_TRANS}),ct=e=>({type:C.LOAD_CASH_TRANS_SUCCESS,payload:e}),lt=e=>({type:C.LOAD_ONLINE_TRANS_SUCCESS,payload:e}),dt=e=>({type:C.LOAD_CASH_TRANS_FAILURE,payload:e}),pt=e=>({type:C.LOAD_ONLINE_TRANS_FAILURE,payload:e}),ut=e=>({type:C.UPDATE_MONTHLY_SPLIT,payload:e}),ht=e=>({type:C.UPDATE_MONTHLY_MAINT_SPLIT,payload:e});function gt(e,t){return e.filter((e=>{if(e.Category){return e.Category.split(",").some((e=>{const[a]=e.split("(");return t.indexOf(a.trim())>-1}))}return!1}))}function bt(e,t){return a=>{a(ot()),e.forEach((e=>{const a=e.Category,n=e.Date;if(a&&n){var i;const r=a.split(","),s=e.Debit&&"0"!==(null===(i=e.Debit)||void 0===i?void 0:i.toString());let o=s?parseFloat(e.Debit.toString().replace(/,/g,"")):parseFloat(e.Credit.toString().replace(/,/g,""));r.forEach((a=>{let i=a;if(a.indexOf("(")>-1){const e=a.split("(");[i]=e,o=parseFloat(e[1].replace(/(\(|\))/g,"").replace(/,/g,""))}!function(e,t,a,n,i,r){const s=a.replace(/\//g,"-"),o=w()(s,"DD-MM-YYYY").format("MMM-YY");e||(e={});e[o]||(e[o]={});i&&(r=-r);r&&"number"===typeof r?e[o][n]?e[o][n]+=r:e[o][n]=r:console.log("cat",n,o,t)}(t,e,n,i.trim(),!!s,o)}))}})),a(ut({...t}))}}var jt=a(880),mt=a(881),Ot=a(882),vt=a(883),yt=a(884),St=a(885);var At=function(){const e=Object(c.c)((e=>e.trans)),t=Object(c.b)();Object(n.useEffect)((()=>{t(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Cash Transactions";return t=>{t(ot()),Ke.init().then((()=>{Ke.getSheetByTitleAsJson(e).then((e=>{new at(nt).run(e),new rt(it).run(gt(e,[st["Maintenance Collection"],st["Corpus Fund"]])),t(ct(e)),Ke.saveSheetWithJSON(e)})).catch((e=>{t(dt(e.message))}))}))}}())}),[t]);const a=Object(n.useMemo)((()=>e.cashTransData),[e]),i=Object(n.useMemo)((()=>{let e=[];return a&&a.length>=1&&(e=Object.keys(a[0])),e}),[a]);return Object(ne.jsx)(ne.Fragment,{children:Object(ne.jsxs)("div",{className:"cash-trans",children:[e.loading&&Object(ne.jsx)(jt.a,{}),!e.loading&&Object(ne.jsxs)(mt.a,{children:[Object(ne.jsx)(Ot.a,{children:Object(ne.jsxs)(vt.a,{children:[Object(ne.jsx)(yt.a,{children:"Sl. No."}),i.map((e=>Object(ne.jsx)(yt.a,{children:e},e)))]})}),Object(ne.jsx)(St.a,{children:!!a&&a.map(((e,t)=>Object(ne.jsxs)(vt.a,{children:[Object(ne.jsx)(yt.a,{children:t+1}),i.map((t=>Object(ne.jsx)(yt.a,{children:"Date"!==t?e[t]:w()(e[t],"DD/MM/YYYY").format("DD/MM/YYYY")},`${t}-${e[t]}`)))]},JSON.stringify(e))))})]})]})})};var ft=function(){const e=Object(c.c)((e=>e.trans)),t=Object(c.b)();Object(n.useEffect)((()=>{t(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Online Transactions";return t=>{t(ot()),Ke.init().then((()=>{Ke.getSheetByTitleAsJson(e).then((e=>{new at(nt).run(e),new rt(it).run(gt(e,[st["Maintenance Collection"],st["Corpus Fund"]])),t(lt(e)),Ke.saveSheetWithJSON(e)})).catch((e=>{t(pt(e.message))}))}))}}("Online Transactions"))}),[t]);const a=e.onlineTransData,i=Object(n.useMemo)((()=>{let e=[];return a&&a.length>1&&(e=Object.keys(a[0])),e}),[a]);return Object(ne.jsx)(ne.Fragment,{children:Object(ne.jsxs)("div",{className:"online-trans",children:[e.loading&&Object(ne.jsx)(jt.a,{}),!e.loading&&Object(ne.jsxs)(mt.a,{children:[Object(ne.jsx)(Ot.a,{children:Object(ne.jsxs)(vt.a,{children:[Object(ne.jsx)(yt.a,{children:"Sl. No."}),i.map((e=>Object(ne.jsx)(yt.a,{children:e},e)))]})}),Object(ne.jsx)(St.a,{children:!!a&&a.map(((e,t)=>Object(ne.jsxs)(vt.a,{children:[Object(ne.jsx)(yt.a,{children:t+1}),i.map((t=>Object(ne.jsx)(yt.a,{children:"Date"!==t?e[t]:w()(e[t],"DD-MM-YYYY").format("DD/MM/YYYY")},`${t}-${e[t]}`)))]},JSON.stringify(e))))})]})]})})};a(746);var Ct=function(){const[e,t]=Object(n.useState)(),[a,i]=Object(n.useState)("cash"),[r,s]=Object(n.useState)(""),l=Object(c.b)(),d=Object(c.c)((e=>e.sheet)),{initError:p}=d,u=Object(c.c)((e=>e.trans)),{monthlyCatSplit:h,cashTransData:g,onlineTransData:b,monthlyMaintSplit:j}=u;Object(n.useEffect)((()=>{r&&l(function(e){return t=>{t(Je());const a=M(e);a.res?t(We({...L()})):t(qe(a.error))}}(r))}),[l,r]);const m=Object(n.useCallback)((()=>{g&&b&&(l(bt([...g,...b],{})),i(void 0))}),[g,l,b]),O=Object(n.useCallback)((()=>{if(g&&b){const a=gt([...g,...b],[st["Maintenance Collection"]]);l((e=a,t={},a=>{a(ot()),e.forEach((e=>{const a=e.Flat,n=e.Date,i=e.Category;if(a&&n&&i){const r=w()(n,"DD/MM/YYYY").format("MMM-YY");t||(t={}),t[r]||(t[r]={});let s=parseFloat(e.Credit.toString().replace(/,/g,""));if(i.indexOf("(")>-1){const e=i.match(/Maintenance Collection\s+\((\d+(\.\d+)?)\)/);e&&(s=parseFloat(e[1]))}s&&"number"===typeof s?t[r][a]?t[r][a]+=s:t[r][a]=s:console.log("Flat",a,r,e)}})),a(ht({...t}))})),i(void 0)}var e,t}),[g,l,b]),v=Object(n.useCallback)((()=>{Ke.updateCategorySheet(h).then((()=>{console.log("Saved"),t("Summary Updated")}))}),[h]),y=Object(n.useCallback)((()=>{Ke.udpateMaintenanceSheet(j).then((()=>{console.log("Saved"),t("Maintenence Split Updated")}))}),[j]),[S,A]=Object(n.useState)(0),f=Object(n.useMemo)((()=>["Cash Transactions","Online Transactions","Map Transactions","Categorize Maintenance"]),[]),C=Object(n.useCallback)((e=>!1),[]),D=Object(n.useCallback)((e=>!1),[]),x=Object(n.useCallback)((()=>{switch(S){case 3:i(void 0),A(2);break;case 2:i("online"),A(1);break;case 1:i("cash"),A(0)}}),[S]),T=Object(n.useCallback)((()=>{}),[]),E=Object(n.useCallback)((()=>{switch(S){case 0:i("online"),A(1);break;case 1:i(void 0),A(2),m();break;case 2:i(void 0),A(3),O()}}),[S,O,m]);return Object(ne.jsxs)("div",{children:[!!e&&Object(ne.jsx)(o.a,{severity:"info",children:e}),!!p&&Object(ne.jsx)(o.a,{severity:"error",children:p}),Object(ne.jsxs)("div",{className:"stepper-header",children:[Object(ne.jsx)(Re.a,{className:"steps",activeStep:S,children:f.map(((e,t)=>{const a={},n={};return C(t)&&(n.optional=Object(ne.jsx)(ke.a,{variant:"caption",children:"Optional"})),D(t)&&(a.completed=!1),Object(ne.jsx)(Ye.a,{...a,children:Object(ne.jsx)(Be.a,{...n,children:e})},e)}))}),Object(ne.jsxs)("div",{className:"nav",children:[Object(ne.jsx)(ae.a,{disabled:0===S,onClick:x,children:"Back"}),C(S)&&Object(ne.jsx)(ae.a,{variant:"contained",color:"primary",onClick:T,children:"Skip"}),Object(ne.jsx)(ae.a,{variant:"contained",color:"primary",onClick:E,children:S===f.length-1?"Save":"Next"})]})]}),Object(ne.jsxs)("div",{className:"control",children:[2===S&&Object(ne.jsx)(ae.a,{variant:"outlined",disabled:!h,onClick:v,children:"Save Categorized"}),"\xa0\xa0\xa0",3===S&&Object(ne.jsx)(ae.a,{variant:"outlined",disabled:!j,onClick:y,children:"Save Split"})]}),!p&&!!d.sheetConfig.secret&&Object(ne.jsxs)(ne.Fragment,{children:[0===S&&Object(ne.jsx)(At,{}),1===S&&Object(ne.jsx)(ft,{}),2===S&&!!h&&Object(ne.jsx)(Me.a,{style:Me.b,data:h}),3===S&&!!j&&Object(ne.jsx)(Me.a,{style:Me.b,data:j})]})]})};var Dt=()=>Object(ne.jsx)(Ct,{}),xt=a(423),Tt=a.n(xt),Et=a(896),It=a(435),Nt=a(891);function wt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t&&0!==t.length||(t=Object.values(st));let a="";const n=[],i=[];return e.split(/[\s_]/m).filter((e=>e&&"/"!==e)).forEach((e=>{/^\d{1,2}-\d{1,2}-\d{2,4}$/.test(e)&&n.push(e),/^\d+(\.\d{1,2})?-?$/.test(e)&&i.push(e)})),a||(a=e.replace(n[0],""),a=a.replace(i[0],"").replace(/_/g,""),a=function(e,t){const a=new Map;e.forEach((e=>{let n=0;const i=e.toLowerCase();t.forEach((e=>{i.includes(e.toLowerCase())&&(n+=1)})),a.set(e,n)}));const n=[...Array.from(a)].sort(((e,t)=>t[1]-e[1]));if(n.length>0&&0!==n[0][1])return n[0][0];return""}(t,[a])||a),{date:n[0],amount:parseFloat(i[0])||0,description:a}}var Mt=a(82),Rt=a(414),kt=a.n(Rt);var Yt=class{async pdfDataUriToCanvas(e){return new Promise((t=>{const a=document.getElementById("myIframe");a.onload=async()=>{var e;const n=null===(e=a.contentWindow)||void 0===e?void 0:e.document;if(null!==n&&void 0!==n&&n.body){const e=(await kt()(n.body)).toDataURL("image/png"),a=document.getElementById("cap-image");a&&a.setAttribute("src",e),t(e)}else t(void 0);a.className=""},a.className="active",a.src=e}))}async convert(e){const t=await fetch(e).then((e=>e.arrayBuffer())),a=await Mt.PDFDocument.load(t),n=await Mt.PDFDocument.create(),[i]=await n.copyPages(a,[0]),{dict:r}=i.node,s=r.get(Mt.PDFName.of("Resources")).get(Mt.PDFName.of("XObject"));if(!s)return console.log("No XObject resources found on this page."),[];const o=[];return Object.entries(s.dict).forEach((e=>{var t;let[n,i]=e;const r=a.context.lookup(i);if(r&&r.dict&&"/Image"===(null===(t=r.dict.get(Mt.PDFName.of("Subtype")))||void 0===t?void 0:t.toString())){var s,c,l;const e=r.dict.context.lookupMaybe(r.dict.dataStart,(e=>"object"===typeof e?e:null)),t=null===(s=r.dict.get(Mt.PDFName.of("BitsPerComponent")))||void 0===s?void 0:s.toString(),a=null===(c=r.dict.get(Mt.PDFName.of("ColorSpace")))||void 0===c?void 0:c.toString(),i=null===(l=r.dict.get(Mt.PDFName.of("Filter")))||void 0===l?void 0:l.toString();let d=".raw";i&&(i.includes("/DCTDecode")?d=".jpg":i.includes("/FlateDecode")?d=".png":i.includes("/JBIG2Decode")?d=".jbig2":i.includes("/JPXDecode")&&(d=".jp2")),e&&(o.push({name:n,path:"",properties:{bitsPerComponent:t,colorSpace:a,filter:i}}),console.log("Extracted image: "))}})),o}base64ToUint8Array(e){const t=atob(e),{length:a}=t,n=new Uint8Array(a);for(let i=0;i<a;i+=1)n[i]=t.charCodeAt(i);return n}uint8ArrayToBase64(e){let t="";const a=e.length;for(let n=0;n<a;n+=1)t+=String.fromCharCode(e[n]);return btoa(t)}uint8ArrayToBase64Image(e){return`data:${arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png"};base64,${this.uint8ArrayToBase64(e)}`}dataURItoBlobURL(e){const[t,a]=e.split(","),n=/:(.*?);/.exec(t);if(!n)throw new Error("Invalid data URI format");const i=n[1],r=atob(a),s=new Uint8Array(r.length);for(let c=0;c<r.length;c+=1)s[c]=r.charCodeAt(c);const o=new Blob([s],{type:i});return URL.createObjectURL(o)}};const Bt={getVision:async e=>{const t=await Bt.getVisionRequestBody(e),a={method:"POST",body:JSON.stringify(t),redirect:"follow"};try{const e=await fetch("http://localhost:11434/api/chat",a);return console.log(e),e.json()}catch(n){return console.error("Error fetching vision:",n),null}},getCategory:async e=>{const t=Object.values(st),a=await Bt.getCatRequestBody(e,t),n={method:"POST",body:JSON.stringify(a),redirect:"follow"};try{const e=await fetch("http://localhost:11434/api/chat",n);return console.log(e),e.json()}catch(i){return console.error("Error fetching vision:",i),null}},getCatRequestBody:async(e,t)=>({model:"qwen2.5:3b",messages:[{role:"system",content:"You are categorizer of bills. Your output should be in JSON format. { category: string }"},{role:"user",content:`Followng is the list of categories.\n${t.join(", ")}\nBased the following description of the bill, figure out the category.\nDescription: ${e}`}],stream:!1}),getVisionRequestBody:async e=>{const t=Object.values(st).join(", "),a=[],n=await Bt.urlToBase64(e);if(n.startsWith("data:application/pdf;base64,")){const t=new Yt,n=await t.convert(e);if(null!==n&&void 0!==n&&n.length){const e=await Promise.all(n.map((async e=>e.replace(/data:.+;base64,/,""))));a.push(...e)}}else console.log("Data URI: ",n),a.push(n.replace(/data:.+;base64,/,""));return{model:"gemma3:latest",stream:!1,options:{seed:101,temperature:.1},format:{type:"object",properties:{date:{type:"string"},description:{type:"string"},amount:{type:"integer"},cash:{type:"boolean"},category:{type:"string"}},required:["date","amount","cash","description"]},messages:[{role:"user",content:`What text do you read in this image? Fetch data like Amount, Date, is Cash or Cheque transaction and Description.\nDefault is cash transaction unless the word 'cheque' found.\nDate: Date format should be 'dd/mm/yyyy'. If the year is not found, use the current year. If day is not found, use '01' as day. If month is not found, use '03' as month.\nFollowng is the list of categories. ${t}\nFigure out the category based on the image input.`},{role:"user",images:a}]}},urlToBase64:async e=>{try{const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch image: ${t.statusText}`);const a=await t.blob();return await Bt.blobToBase64(a)}catch(t){throw console.error("Error converting URL to Base64:",t),t}},blobToBase64:e=>new Promise(((t,a)=>{const n=new FileReader;n.readAsDataURL(e),n.onloadend=()=>t(n.result),n.onerror=a}))};var Lt=Bt,Pt=a(39);class Ut{constructor(){this.chat=void 0,this.inProgress=!1,this.initProm=void 0;const e=L().geminiKey||"",t=new Pt.a(e).getGenerativeModel({model:"gemini-1.0-pro"}),a=[{category:Pt.c.HARM_CATEGORY_HARASSMENT,threshold:Pt.b.BLOCK_MEDIUM_AND_ABOVE},{category:Pt.c.HARM_CATEGORY_HATE_SPEECH,threshold:Pt.b.BLOCK_MEDIUM_AND_ABOVE},{category:Pt.c.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:Pt.b.BLOCK_MEDIUM_AND_ABOVE},{category:Pt.c.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:Pt.b.BLOCK_MEDIUM_AND_ABOVE}];this.chat=t.startChat({generationConfig:{temperature:.9,topK:0,topP:1,maxOutputTokens:2048},safetySettings:a}),this.initChat("You are a bill/receipt data extractor. You have to extract the date (dd-mm-YYYY), amount (in number format), description (in short) and isChequeIssued (is cheque issued?). Expect the following date formats as input 'dd-mm-YYYY', 'dd-mm-YY', 'dd/mm/YYYY' and 'dd/mm/YY'. Also sometimes date delimter has been miss-interperated as numberical one. Ex. 25/7124 can be interperated as 25/7/24 which is of format, 'dd/mm/YY'. Also expect multiple numbers, provide the largest number as amount. Don't expect amount to be larger than 6 digits. Also expect the whole input in tabular format separated by newlines and tabs. The whole data is a bill information. If it is electricity bill, Description should be 'Electricity bill'. If it is a BWSSB or Water bill, the description should be BWSSB. Don't use text havig word 'Total' as description. If input is a bill of items purchased, find the reason like 'Motor repair'. If not found, say 'Items Purchased' followed by a line item.")}async initChat(e){this.inProgress=!0;const t=`Following is the context for future chat messages.\n${e}`;this.initProm=this.chat.sendMessage(t)}async extractData(e){this.inProgress&&(await this.initProm,this.inProgress=!1);try{const t=await this.chat.sendMessage(`What is the date (dd-mm-YYYY), amount (in number format), description (in short) and isChequeIssued (is cheque issued?)', extracted from the following text (comes after new line) in JSON format?\n${e}`),{response:a}=t,n=a.text().replace(/```/g,"").replace(/JSON/gi,""),i=JSON.parse(n),r=Array.isArray(i)?i[0]:i;return{date:r.date||r.Date,description:r.description||r.Description,amount:r.amount||r.Amount,isChequeIssued:"undefined"!==typeof r.isChequeIssued?r.isChequeIssued:r.IsChequeIssued}}catch(t){console.log(t)}return{amount:0,date:"",description:"",isChequeIssued:!1}}static getInstance(){return Ut.instance||(Ut.instance=new Ut),Ut.instance}}Ut.instance=void 0;const _t=!0;function Ft(e){Se(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").then((t=>{e(t)}))}const Ht=async(e,t)=>{await async function(e,t,a,n){let i={Date:e,Debit:t,Category:a};try{await Ke.searchUpdateRecord("Online Transactions",i,"Bill",n)}catch(r){i={Debit:t,Category:a},await Ke.searchUpdateRecord("Online Transactions",i,"Bill",n)}}(e.date,e.amount,e.category||"",Jt(t))};const Kt=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Cash Transactions";await Ke.getSheetByTitle(t)||await Ke.addSheet({headerValues:["Date","Description","Item Description/Purpose","Qty","Price","Debit","Credit","Total","Category","Flat","Bill"],title:t});const a=JSON.parse(JSON.stringify(e));return await Ke.updateSheetWithJSON(a,t),!0},Jt=e=>`https://drive.google.com/file/d/${e}/preview`,Wt=(e,t)=>{var a,n,i;const r={Date:null!==(a=e.date)&&void 0!==a?a:"",Description:null!==(n=e.description)&&void 0!==n?n:"",Debit:null!==(i=e.amount)&&void 0!==i?i:0,Credit:0,Category:e.category,Total:0};return t&&(r.Bill=Jt(t)),r},qt=(e,t)=>{Lt.getCategory(e);const a=Wt(e);!a.Description&&t&&(a.Description=t);new at(nt).run([a]),e.category=a.Category,!e.description&&e.category&&(e.description=e.category)},Vt={};function Gt(e,t){let a={};return new Promise((n=>{if(e&&e.indexOf("_")>-1&&(a=wt(e)),a.amount&&a.date&&a.description){const e={...a};n(e)}else if(Vt[t.id])n(Vt[t.id]);else{const{googleAPIKey:e}=L(),i=`https://www.googleapis.com/drive/v2/files/${t.id}?key=${e}&alt=media&source=downloadUrl`,r=_t?Lt.getVision.bind(Lt):De,s=_t?zt:Zt;Xt(i,r).then((async e=>{const i=await s(e,a);Vt[t.id]=i,n(i)}))}}))}const zt=async e=>{const t=JSON.parse(e.message.content),a=JSON.parse(e.message.content);if(a.date&&10===a.date.length||(a.date="01-01-2024"),a.isChequeIssued=!t.cash,!a.category){await Lt.getCategory(t.description)&&(a.category=JSON.parse(e.message.content).category)}return Promise.resolve(a)},Zt=async(e,t)=>{var a;let n;if(null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&a.ParsedResults){var i;const t=(null===(i=e.data.ParsedResults[0])||void 0===i?void 0:i.ParsedText)||"",a=await Ut.getInstance().extractData(t);n={...a,isChequeIssued:"boolean"===typeof a.isChequeIssued?a.isChequeIssued:"true"===a.isChequeIssued},qt(n,t.toLowerCase())}else n={...t},qt(n);return n},Xt=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return new Promise(((n,i)=>{t(e).then((async i=>{if(a-=1,i||0===a)n(i);else if(!i){const i=await Xt(e,t,a);n(i)}}))}))};var $t=a(857),Qt=a(416),ea=a(895),ta=a(887),aa=a(888),na=a(860),ia=a(865),ra=a(894),sa=a(422),oa=a.n(sa),ca=a(421),la=a.n(ca),da=a(858),pa=a(415),ua=a.n(pa),ha=a(43),ga=a.n(ha);a(755);var ba=e=>{let{transaction:t,previewBill:a,expenseCategories:i,callback:r}=e;const[s,o]=Object(n.useState)(!1),[c,l]=Object(n.useState)(t),[d,p]=Object(n.useState)(!1),u=Object(n.useCallback)((async()=>{o(!0);const e=await Gt("",t.bill);l({...t,...e,isCash:!e.isChequeIssued}),o(!1)}),[t]),[h,g]=Object(n.useState)({date:"",amount:"",description:"",category:"",transactionType:""}),b=Object(n.useCallback)((e=>{const{name:t,value:a}=e.target||e;l((e=>({...e,[t]:a})))}),[]),j=Object(n.useCallback)((()=>{let e=!1;if(c.amount?h.amount="":(h.amount="Enter a valid amount",e=!0),c.date&&"invalid date"!==c.date.toLowerCase()?h.date="":(h.date="Enter a valid date",e=!0),c.description?h.description="":(h.description="Enter a valid description",e=!0),c.category?h.category="":(h.category="Select a category",e=!0),e)g({...h});else{const e=JSON.parse(JSON.stringify(c));r(e),p(!0)}}),[r,h,c]);return Object(n.useEffect)((()=>{if(!c.date){const e="01-04-2024";l({...c,date:e})}}),[c,c.date]),Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)(vt.a,{className:d?"form-completed bill-row":"bill-row",children:[Object(ne.jsx)(yt.a,{children:Object(ne.jsx)(se.a,{disabled:s,onMouseEnter:e=>a(e,t.bill),children:Object(ne.jsx)(ua.a,{})})}),Object(ne.jsx)(yt.a,{className:h.date?"cell-error":"",children:Object(ne.jsx)(ta.a,{title:h.date,children:Object(ne.jsx)("div",{className:"date-wrapper",children:Object(ne.jsx)(Qt.a,{dateAdapter:$t.a,children:Object(ne.jsx)(da.a,{disabled:s,format:"DD-MM-YYYY",closeOnSelect:!0,value:ga()(w()(c.date,"DD-MM-YYYY").format("YYYY-MM-DD")),onChange:e=>b({value:e.format("DD-MM-YYYY"),name:"date"})})})})})}),Object(ne.jsx)(yt.a,{className:h.description?"cell-error":"",children:Object(ne.jsx)(ta.a,{title:h.description,children:Object(ne.jsx)(aa.a,{name:"description",disabled:s,value:c.description,onChange:b,fullWidth:!0})})}),Object(ne.jsx)(yt.a,{className:h.amount?"cell-error":"",children:Object(ne.jsx)(ta.a,{title:h.amount,children:Object(ne.jsx)(aa.a,{name:"amount",type:"number",disabled:s,value:c.amount,onChange:b,fullWidth:!0})})}),Object(ne.jsx)(yt.a,{className:h.category?"cell-error":"",children:Object(ne.jsx)(ta.a,{title:h.category,children:Object(ne.jsx)(na.a,{className:"bill-category",fullWidth:!0,disabled:s,name:"category",value:c.category,onChange:b,children:i.map((e=>Object(ne.jsx)(ia.a,{value:e.key,children:e.label},e.key)))})})}),Object(ne.jsx)(yt.a,{children:Object(ne.jsx)(ra.a,{name:"isCash",disabled:s,checked:!!c.isCash,value:!0,onClick:()=>b({name:"isCash",value:!c.isCash})})}),Object(ne.jsxs)(yt.a,{children:[!s&&Object(ne.jsx)(se.a,{disabled:s||d,"aria-label":"fetch",onClick:u,children:Object(ne.jsx)(la.a,{})}),Object(ne.jsx)(se.a,{disabled:s||d,"aria-label":"submit",onClick:j,children:Object(ne.jsx)(oa.a,{})})]})]},c.bill.id),s&&Object(ne.jsx)(vt.a,{className:"loader-row",children:Object(ne.jsx)(ea.a,{color:"success"})})]})};a(759);var ja=e=>{let{transactions:t,expenseCategories:a,handleSubmit:n,handleSplit:r}=e;const[s,o]=i.a.useState(null),[c,l]=i.a.useState(),d=(e,t)=>{l(t),o(e.currentTarget)},p=Boolean(s),u=p?"simple-popover":void 0;return Object(ne.jsxs)(ne.Fragment,{children:[1===t.length&&Object(ne.jsx)(ae.a,{className:"split-all","aria-label":"split",onClick:()=>r(t[0].bill),size:"small",children:"Split the Bill"}),Object(ne.jsxs)(Et.a,{component:It.a,children:[Object(ne.jsxs)(mt.a,{size:"small",children:[Object(ne.jsx)(Ot.a,{children:Object(ne.jsxs)(vt.a,{children:[Object(ne.jsx)(yt.a,{children:"Bill Preview"}),Object(ne.jsx)(yt.a,{children:"Date"}),Object(ne.jsx)(yt.a,{children:"Description"}),Object(ne.jsx)(yt.a,{children:"Amount"}),Object(ne.jsx)(yt.a,{children:"Category"}),Object(ne.jsx)(yt.a,{children:"Is Cash"}),Object(ne.jsx)(yt.a,{children:"Action"})]})}),Object(ne.jsx)(St.a,{children:t.map((e=>Object(ne.jsx)(ba,{previewBill:d,transaction:e,expenseCategories:a,callback:t=>n(t,e.bill.id)},e.bill.id)))})]}),!!c&&Object(ne.jsx)(Nt.b,{id:u,open:p,anchorEl:s,onClose:()=>{o(null),l(void 0)},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(ne.jsx)("iframe",{className:"expense-bill-img",src:Jt(c.id),title:"Expense Bill"})})]})]})},ma=a(890),Oa=a(873),va=a(869),ya=a(863),Sa=a(893),Aa=a(868);a(760);var fa=e=>{let{callback:t,date:a,amount:i,description:r,category:s,image:o,handleClose:c,expenseCategories:l,mimeType:d,isChequeIssued:p}=e;const[u,h]=Object(n.useState)({date:w()(null!==a&&void 0!==a?a:"01-04-2024","DD-MM-YYYY").format("YYYY-MM-DD"),amount:null!==i&&void 0!==i?i:0,description:null!==r&&void 0!==r?r:"text",category:null!==s&&void 0!==s?s:"",isChequeIssued:p}),[g,b]=Object(n.useState)({date:"",amount:"",description:"",category:"",transactionType:""}),j=Object(n.useCallback)((e=>{const{name:t,value:a}=e.target;h((e=>({...e,[t]:a})))}),[]),m=Object(n.useCallback)((()=>{let e=!1;if(u.amount||(g.amount="Enter a valid amount",e=!0),u.date&&"invalid date"!==u.date.toLowerCase()||(g.date="Enter a valid date",e=!0),u.description||(g.description="Enter a valid description",e=!0),u.category||(g.category="Select a category",e=!0),e)b({...g});else{const e=JSON.parse(JSON.stringify(u));e.date=w()(e.date,"YYYY-MM-DD").format("DD-MM-YYYY"),t(e)}}),[t,g,u]);return Object(ne.jsx)("div",{className:"expense-dialog",children:Object(ne.jsxs)(Z.a,{open:!0,onClose:c,className:"bill-grid-dialog",fullWidth:!0,scroll:"paper",maxWidth:"xl",children:[Object(ne.jsx)(X.a,{children:"Form"}),Object(ne.jsxs)($.a,{children:[d.startsWith("image/")&&Object(ne.jsx)("iframe",{className:"expense-bill-img",src:Jt(o),title:"Expense Bill"}),"application/pdf"===d&&Object(ne.jsx)("embed",{className:"expense-bill-img",src:Jt(o),title:"Expense Bill"}),Object(ne.jsxs)("form",{children:[Object(ne.jsxs)(ma.a,{variant:"outlined",fullWidth:!0,margin:"normal",error:!!g.transactionType,children:[Object(ne.jsxs)(Oa.a,{"aria-label":"Transaction Type",name:"transactionType",value:u.isChequeIssued?"Online":"Cash",onChange:j,row:!0,children:[Object(ne.jsx)(va.a,{value:"Cash",control:Object(ne.jsx)(ya.a,{color:"primary"}),label:"Cash"}),Object(ne.jsx)(va.a,{value:"Online",control:Object(ne.jsx)(ya.a,{color:"primary"}),label:"Online"})]}),!!g.transactionType&&Object(ne.jsx)(Sa.a,{children:g.transactionType})]}),Object(ne.jsx)(aa.a,{type:"date",name:"date",label:"Date",value:u.date,onChange:j,fullWidth:!0,margin:"normal",variant:"outlined",placeholder:"DD-MM-YYYY",error:!!g.date,helperText:g.date}),Object(ne.jsx)(aa.a,{type:"number",name:"amount",label:"Amount",value:u.amount,onChange:j,fullWidth:!0,margin:"normal",variant:"outlined",error:!!g.amount,helperText:g.amount}),Object(ne.jsx)(aa.a,{type:"text",name:"description",label:"Description",value:u.description,onChange:j,fullWidth:!0,margin:"normal",variant:"outlined",error:!!g.description,helperText:g.description}),Object(ne.jsxs)(ma.a,{variant:"outlined",fullWidth:!0,margin:"normal",error:!!g.category,children:[Object(ne.jsx)(Aa.a,{children:"Category"}),Object(ne.jsx)(na.a,{name:"category",value:u.category,onChange:j,label:"Category",children:l.map((e=>Object(ne.jsx)(ia.a,{value:e.key,children:e.label},e.key)))}),!!g.category&&Object(ne.jsx)(Sa.a,{children:g.category})]})]})]}),Object(ne.jsxs)(te.a,{children:[Object(ne.jsx)(ae.a,{onClick:()=>c(),color:"primary",children:"Cancel"}),Object(ne.jsx)(ae.a,{onClick:m,color:"primary",children:"Submit"})]})]})})},Ca=a(871);var Da=e=>{let{folders:t,handleClick:a}=e;const n=t.length?function(e){const t={APR:1,MAY:2,JUN:3,JUL:4,AUG:5,SEP:6,OCT:7,NOV:8,DEC:9,JAN:10,FEB:11,MAR:12};return e.sort(((e,a)=>t[e.name.toUpperCase()]-t[a.name.toUpperCase()])),e}(t):[];return Object(ne.jsx)("div",{children:Object(ne.jsx)(Ca.a,{container:!0,spacing:2,children:n.map(((e,t)=>Object(ne.jsxs)(Ca.a,{item:!0,xs:2,onClick:()=>a(e.id,e.name),children:[Object(ne.jsx)("img",{src:"/images/folder.jpg",id:`folder-${e.name}`,alt:`Folder ${t+1}`,style:{width:200,height:200,cursor:"pointer",padding:"5px"}}),Object(ne.jsx)("h3",{style:{textAlign:"center"},children:e.name})]},`Image ${t+1}`)))})})};class xa{constructor(){this.initProm=void 0,this.sheetIntialized=!1,this.sheets=new Map,this.initProm=Ke.init(),this.initProm.then((()=>{this.sheetIntialized=!0}))}async getSheet(e){return this.sheetIntialized||await this.initProm,new Promise(((t,a)=>{this.sheets.has(e)?t(this.sheets.get(e)):Ke.getSheetByTitle(e).then((n=>{n?(this.sheets.set(e,n),t(n)):a()}))}))}async getExpenseCategories(){return new Promise(((e,t)=>{let a=[];this.getSheet("Summary").then((t=>{const n=Ke.getColumnWithSheet(t,0).map((e=>e.value)),i=[];for(let e=1;e<n.length-1&&"Total Expense"!==n[e];e+=1)i.push(n[e]),a=i.map((e=>({key:e,label:e})));e(a)}))}))}async parseMonthlySheet(e){return(await e.getRows()).map((e=>({Date:w()(e.Date,"DD/MM/YYYY").toDate(),Description:e.Desc,"Cheque No":e.ChqNo,Debit:parseFloat(e.Amount)<0?parseFloat(e.Amount):0,Credit:parseFloat(e.Amount)>=0?parseFloat(e.Amount):0,Total:parseFloat(e.Balance),type:e.Type})))}getMonthData(e){return new Promise(((t,a)=>{this.getSheet(e).then((async e=>{const a=await this.parseMonthlySheet(e);t(a)})).catch((()=>{Ke.addSheet({headerValues:["Date","Desc","ChqNo","Amount","Type","Balance"],title:e}).then((a=>{this.sheets.set(e,a),t([])}))}))}))}pushSheetData(e,t){t.push({Date:w()(e.Date).format("DD-MM-YYYY"),Desc:e.Description,Balance:e.Total,Amount:e.Credit-e.Debit,ChqNo:e["Cheque No"],Type:e.type})}transCompare(e,t){return w()(e.Date).format("DD/MM/YYY")===w()(t.Date).format("DD/MM/YYY")&&e.Description===t.Description&&e.Debit===t.Debit&&e.Credit===t.Credit&&e.type===t.type}async mergeSheetData(e,t){const{transactions:a}=L().appData,n=[];return t.length>0?(a.forEach((e=>{-1===t.findIndex((t=>this.transCompare(t,e)))&&this.pushSheetData(e,n)})),t.forEach((e=>{-1===a.findIndex((t=>this.transCompare(t,e)))&&a.push(e)}))):a.forEach((e=>this.pushSheetData(e,n))),n.length&&await e.addRows(n),!0}async setMonthData(e){const t=await this.getMonthData(e),a=await this.getSheet(e);return await this.mergeSheetData(a,t),!0}}new xa,a(761);function Ta(){const[e,t]=Object(n.useState)(""),[a,i]=Object(n.useState)(!1),[r,s]=Object(n.useState)([]),[o,c]=Object(n.useState)(!1),[l,d]=Object(n.useState)(),[p,u]=Object(n.useState)(""),[h,g]=Object(n.useState)({date:"",amount:0,description:"",category:""}),b=Object(n.useCallback)(((e,a)=>{t(a),u(e)}),[]),j=(Object(n.useCallback)((async e=>{d(e),i(!0);const t=r.find((t=>t.id===e.id)),a=null===t||void 0===t?void 0:t.name,n=await Gt(a,e);i(!1),g(n),c(!0)}),[r]),Object(n.useCallback)((e=>{}),[])),m=Object(n.useCallback)(((e,t)=>{const a=t||(null===l||void 0===l?void 0:l.id);if(a&&null!==e&&void 0!==e&&e.date){const t=r.find((e=>e.id===a));a&&t&&Ae(a,t.name).then((()=>{if(Ft(s,p),e.isChequeIssued)Ht(e,a);else{const t=[Wt(e,a)];Kt(t)}}))}d(void 0),c(!1)}),[r,l,p]);Object(n.useEffect)((()=>{Ft(s,p)}),[p]);const[O,v]=Object(n.useState)([]);Object(n.useEffect)((()=>{(async()=>{const e=new xa,t=await e.getExpenseCategories();v(t)})()}),[]);const y=Object(n.useMemo)((()=>r.filter((e=>(e.mimeType.startsWith("image/")||"application/pdf"===e.mimeType)&&!e.name.startsWith(ve)))),[r]),S=Object(n.useMemo)((()=>y.map((e=>({date:"",description:"",amount:0,category:"",isCash:!0,bill:e})))),[y]),A=Object(n.useMemo)((()=>r.filter((e=>"application/vnd.google-apps.folder"===e.mimeType))),[r]),f=Object(n.useMemo)((()=>p?`Unprocessed Bills - ${e}`:"Unprocessed Bills"),[e,p]);return Object(ne.jsxs)("div",{className:"bill-workspace",children:[!!p&&Object(ne.jsx)(se.a,{onClick:()=>u(""),"aria-label":"Back",children:Object(ne.jsx)(Tt.a,{})}),Object(ne.jsx)("h3",{className:"inline-h3",children:f}),!p&&Object(ne.jsx)(Da,{folders:A,handleClick:b}),!!p&&Object(ne.jsx)(ja,{handleSubmit:m,transactions:S,expenseCategories:O,handleSplit:j}),!!l&&o&&Object(ne.jsx)(fa,{...h,image:l.id,mimeType:l.mimeType,callback:m,handleClose:m,expenseCategories:O}),a&&Object(ne.jsx)("div",{className:"overlay",children:Object(ne.jsx)(jt.a,{})})]})}var Ea=a(424);a(762);var Ia=e=>{const[t,a]=Object(n.useState)(),i=Object(n.useCallback)((t=>{e.onUpload(t)}),[e]),r=Object(n.useCallback)((e=>{a(e)}),[]);return Object(ne.jsxs)(ne.Fragment,{children:[t&&Object(ne.jsx)(o.a,{severity:"error",children:t}),Object(ne.jsx)("p",{children:"Upload a transaction file (.csv or .xls) to process."}),Object(ne.jsx)("div",{className:"file-upload-wrapper",children:Object(ne.jsx)(Ea.FilePicker,{extensions:["csv","xls","xlsx"],onChange:i,onError:r,children:Object(ne.jsx)("button",{type:"button",children:"Upload"})})})]})},Na=a(230),wa=a.n(Na);const Ma="__EMPTY_",Ra="2",ka="5",Ya="9",Ba="12",La="17",Pa=["21","19","20","22"],Ua="TRAN DATE,",_a="TRAN DATE",Fa="NARRATION",Ha="CHQ.NO.",Ka="WITHDRAWAL(DR)",Ja="DEPOSIT(CR)",Wa="BALANCE(INR)",qa={parseCsvFile:e=>new Promise((t=>{const a=new FileReader;a.onload=e=>{const a=e.target.result.split(/\r?\n/),n=a.findIndex((e=>e.startsWith(Ua)));if(-1===n)throw new Error(`Header line starting with '${Ua}' not found.`);const i=a[n].split(","),r=[];for(let t=n+1;t<a.length;t+=1){const e=a[t].trim();if(e){const t=e.split(","),a={};i.forEach(((e,n)=>{e&&(a[e]=t[n]||"")})),r.push(a)}}t(qa.parseCsvTransactions(r))},a.readAsBinaryString(e)})),parseXLS:e=>new Promise((t=>{const a=new FileReader;a.onload=e=>{const a=wa.a.read(e.target.result,{type:"binary"}),n=a.Sheets[a.SheetNames[0]],i=wa.a.utils.sheet_to_json(n),r=qa.parseTransactions(i);t(r)},a.readAsBinaryString(e)})),parseAmount:e=>{let t;return t="string"===typeof e?parseFloat(e.replace("Cr","").replaceAll(",","")):e,t},getWorkingColumnKeyFromArray:(e,t)=>e.find((e=>!!t[`${Ma}${e}`])),parseCsvTransactions:e=>{let t=[];if(e.length){const a=_a,n=e.filter((e=>e[a]&&10===e[a].length&&e[a].includes("/")&&"Invalid Date"!==w()(e[a],"dd/MM/YYYY").toDate().toString())),i=Wa,r=Fa,s=Ha;t=n.map((e=>{const t={Date:w()(e[a],"DD/MM/YYYY").toDate(),Description:e[r],"Cheque No":e[s]||"",Debit:0,Credit:0,Total:qa.parseAmount(e[i]),type:"ONLINE"};return e[Ka]&&(t.Debit=qa.parseAmount(e[Ka])),e[Ja]&&(t.Credit=qa.parseAmount(e[Ja])),t}))}return t},parseTransactions:e=>{let t=[];if(e.length){const a=`${Ma}${Ra}`,n=e.filter((e=>e[a]&&10===e[a].length&&e[a].includes("/")&&"Invalid Date"!==w()(e[a],"dd/MM/YYYY").toDate().toString()));let i=qa.getWorkingColumnKeyFromArray(Pa,n[0])||"";const r=`${Ma}${ka}`,s=`${Ma}${Ya}`;i=`${Ma}${i}`,t=n.map((e=>{const t={Date:w()(e[a],"DD/MM/YYYY").toDate(),Description:e[r],"Cheque No":e[s]||"",Debit:0,Credit:0,Total:qa.parseAmount(e[i]),type:"ONLINE"};return e[`${Ma}${Ba}`]&&(t.Debit=qa.parseAmount(e[`${Ma}${Ba}`])),e[`${Ma}${La}`]&&(t.Credit=qa.parseAmount(e[`${Ma}${La}`])),t}))}return t}};var Va=qa;a(766);var Ga=e=>{const{xlsData:t,name:a}=e,i=Object(n.useMemo)((()=>{const e={};return t.forEach((t=>{const a=w()(t.Date).format("MMM-YY");e[a]=a})),e}),[t]),r=Object.values(i),[s,o]=Object(n.useState)(1===r.length?r[0]:""),{appData:c}=Object(n.useContext)(U);c.transSheetMonth=s;Object(n.useCallback)((e=>{e.target.value&&(c.transSheetMonth=e.target.value,o(e.target.value))}),[c]);let l=t;s&&(l=t.filter((e=>w()(e.Date).format("MMM-YY")===s)),c.transactions=l);Object(n.useCallback)((()=>{}),[]);return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)("div",{className:"preview-header",children:Object(ne.jsxs)("div",{children:["File: ",Object(ne.jsx)("h4",{children:a})]})}),Object(ne.jsx)(Et.a,{className:"xls-file-preview",component:It.a,children:Object(ne.jsxs)(mt.a,{size:"small",stickyHeader:!0,"aria-label":"Parsed Bank Transactions",children:[Object(ne.jsx)(Ot.a,{children:Object(ne.jsxs)(vt.a,{children:[Object(ne.jsx)(yt.a,{children:"#"}),Object(ne.jsx)(yt.a,{children:"Date"}),Object(ne.jsx)(yt.a,{children:"Description"}),Object(ne.jsx)(yt.a,{align:"right",children:"Cheque No."}),Object(ne.jsx)(yt.a,{align:"right",children:"Debit"}),Object(ne.jsx)(yt.a,{align:"right",children:"Credit"}),Object(ne.jsx)(yt.a,{align:"right",children:"Total"})]})}),Object(ne.jsx)(St.a,{children:l.map(((e,t)=>Object(ne.jsxs)(vt.a,{children:[Object(ne.jsx)(yt.a,{component:"th",scope:"row",children:t+1}),Object(ne.jsx)(yt.a,{component:"th",scope:"row",children:w()(e.Date).format("DD-MM-YYYY")}),Object(ne.jsx)(yt.a,{children:e.Description}),Object(ne.jsx)(yt.a,{align:"right",children:e["Cheque No"]}),Object(ne.jsx)(yt.a,{align:"right",children:e.Debit}),Object(ne.jsx)(yt.a,{align:"right",children:e.Credit}),Object(ne.jsx)(yt.a,{align:"right",children:e.Total})]},`${e.Date}-${e.Description}`)))})]})})]})};var za=function(e){const{data:t}=e,[a,i]=Object(n.useState)("");Object(n.useEffect)((()=>{Ke.init()}),[]);const r=Object(n.useCallback)((async()=>{const e="Online Transactions";await Ke.getSheetByTitle(e)||await Ke.addSheet({headerValues:["Date","Description","Cheque No","Debit","Credit","Total","Category","Flat"],title:e});const a=JSON.parse(JSON.stringify(t)).map((e=>(e.Date=w()(e.Date).format("DD-MM-YYYY"),e)));await Ke.updateSheetWithJSON(a,e),i("Sheet Updated")}),[t]);return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)("p",{children:a}),Object(ne.jsx)("div",{className:"tools",children:Object(ne.jsx)(ae.a,{variant:"outlined",onClick:r,children:"Save Sheet"})})]})};a(767);var Za=()=>{const{sheetConfig:e}=Object(c.c)((e=>e.sheet)),[t,a]=Object(n.useState)(""),[i,r]=Object(n.useState)(0),[s,l]=Object(n.useState)(""),[d,p]=Object(n.useState)([]),u=Object(n.useCallback)((t=>{l(t.name);let n=Va.parseXLS;"text/csv"===t.type&&(n=Va.parseCsvFile),n(t).then((t=>{e.appData.transactions=t,t.reverse(),p(t),a(""),r(1)}))}),[e.appData]),h=Object(n.useCallback)((e=>{switch(e){case 0:return Object(ne.jsx)(Ia,{onUpload:u});case 1:return Object(ne.jsx)(Ga,{name:s,xlsData:d});case 2:return Object(ne.jsx)(za,{data:d});default:return"Unknown step"}}),[d,u,s]),[g,b]=Object(n.useState)(new Set),j=["File Upload","File Preview","Save"],m=Object(n.useCallback)((e=>g.has(e)),[g]),O=Object(n.useCallback)((async()=>{let e=g;if(m(i)&&(e=new Set(e.values()),e.delete(i)),0===i)s?(r((e=>e+1)),a("")):a("Select a file.");else r((e=>e+1)),a("");b(e)}),[i,s,m,g]),v=Object(n.useCallback)((()=>{r(0)}),[]);return Object(ne.jsxs)("div",{className:"wizard",children:[t&&Object(ne.jsx)(o.a,{severity:"error",children:t}),Object(ne.jsxs)("div",{children:[Object(ne.jsx)(Re.a,{activeStep:i,children:j.map(((e,t)=>{const a={},n={};return m(t)&&(a.completed=!1),Object(ne.jsx)(Ye.a,{...a,children:Object(ne.jsx)(Be.a,{...n,children:e})},e)}))}),Object(ne.jsxs)("div",{children:[i===j.length&&Object(ne.jsxs)("div",{children:[Object(ne.jsx)(ke.a,{children:"All steps completed - you're finished"}),Object(ne.jsx)(ae.a,{onClick:v,children:"Reset"})]}),i!==j.length&&Object(ne.jsxs)("div",{children:[Object(ne.jsx)(ke.a,{children:h(i)}),Object(ne.jsxs)("div",{children:[Object(ne.jsx)(ae.a,{disabled:0===i,onClick:()=>{r((e=>e-1))},children:"Back"}),!1,Object(ne.jsx)(ae.a,{variant:"contained",color:"primary",onClick:O,children:i===j.length-1?"Save":"Next"})]})]})]})]})]})};var Xa=()=>Object(ne.jsx)(Za,{}),$a=a(897),Qa=a(898),en=a(425),tn=a.n(en);a(768);var an=()=>{const[e,t]=Object(n.useState)(""),[a,i]=Object(n.useState)(""),[r,s]=Object(n.useState)(""),[o,c]=Object(n.useState)(""),l=Object(n.useCallback)((e=>{const a=e.target.value;t(a);const n=((e,t)=>I.a.AES.encrypt(e,null!==t&&void 0!==t?t:B.secret).toString())(a);var r,o;i(n),s((r=n,I.a.AES.decrypt(r,null!==o&&void 0!==o?o:B.secret).toString(I.a.enc.Utf8)))}),[]),d=Object(n.useCallback)((()=>{navigator.clipboard.writeText(a),c("Encrypted value copied to clipboard!"),setTimeout((()=>{c("")}),3e3)}),[a]),p=Object(n.useMemo)((()=>{let t=Object(ne.jsx)(ne.Fragment,{children:"Decrypted Value"});return e===r&&(t=Object(ne.jsxs)(ne.Fragment,{children:["Decrypted Value ",Object(ne.jsx)(tn.a,{className:"encrypt-check"})," "]})),t}),[r,e]);return Object(ne.jsxs)($a.a,{maxWidth:"sm",children:[Object(ne.jsx)(ke.a,{variant:"h4",gutterBottom:!0,children:"Key Encryption"}),Object(ne.jsx)(aa.a,{label:"Enter Key",variant:"outlined",fullWidth:!0,margin:"normal",value:e,onChange:l}),a&&Object(ne.jsxs)(Qa.a,{marginTop:"20px",children:[Object(ne.jsx)(aa.a,{label:"Encrypted Value",variant:"outlined",fullWidth:!0,margin:"normal",value:a,InputProps:{readOnly:!0},onClick:d}),o&&Object(ne.jsx)(ke.a,{variant:"body2",color:"primary",children:o})]}),r&&Object(ne.jsx)(Qa.a,{marginTop:"20px",children:Object(ne.jsx)(aa.a,{label:p,variant:"outlined",fullWidth:!0,margin:"normal",value:r,InputProps:{readOnly:!0}})})]})};var nn=function(){return Object(ne.jsx)(an,{})};var rn=function(){return Object(ne.jsx)(re.c,{children:Object(ne.jsxs)(re.a,{children:[Object(ne.jsx)(re.a,{path:"/",element:Object(ne.jsx)(Xa,{})}),Object(ne.jsx)(re.a,{path:"/cat",element:Object(ne.jsx)(Dt,{})}),Object(ne.jsx)(re.a,{path:"/bills",element:Object(ne.jsx)(Ta,{})}),Object(ne.jsx)(re.a,{path:"/cash",element:Object(ne.jsx)(we,{})}),Object(ne.jsx)(re.a,{path:"/gen-key",element:Object(ne.jsx)(nn,{})})]})})};a(769);var sn=function(){const[e,t]=Object(n.useState)(""),[a,i]=Object(n.useState)(""),[r,l]=Object(n.useState)(!!L().secret);Object(n.useEffect)((()=>{if(a){M(a).res?(t(""),l(!0)):(t("Wrong secret. Enter it again."),i(""))}}),[a]);const[p,h]=Object(n.useState)(!1);return Object(ne.jsx)(c.a,{store:z,children:Object(ne.jsxs)(s.a,{children:[Object(ne.jsxs)("header",{className:"app-header",children:[Object(ne.jsx)("img",{src:"/images/ssfa.png",alt:"Suraksha Sunflower Apartment",width:"80px",height:"60px"}),Object(ne.jsx)("span",{children:"Suraksha Sunflower "})]}),Object(ne.jsxs)("div",{className:"app",children:[Object(ne.jsxs)(S.c,{collapsed:p,children:[Object(ne.jsxs)(S.a,{children:[Object(ne.jsx)(S.b,{icon:Object(ne.jsx)(j.a,{}),title:"Parse Online Transactions",children:Object(ne.jsx)(s.b,{to:"/",children:"Parse Online Transactions"})}),Object(ne.jsx)(S.b,{icon:Object(ne.jsx)(g.a,{}),title:"Categorize Transactions",children:Object(ne.jsx)(s.b,{to:"/cat",children:"Categorize Transactions"})}),Object(ne.jsx)(S.b,{icon:Object(ne.jsx)(y.a,{}),title:"Upload Bills",children:Object(ne.jsx)(s.b,{to:"/bills",children:"Process Bills"})}),Object(ne.jsx)(S.b,{icon:Object(ne.jsx)(O.a,{}),title:"Generate Encrypted Keys",children:Object(ne.jsx)(s.b,{to:"/gen-key",children:"Encrypt Keys"})})]}),Object(ne.jsxs)("div",{className:"sb-footer",children:[!p&&Object(ne.jsx)(d.a,{onClick:()=>h(!0)}),p&&Object(ne.jsx)(u.a,{onClick:()=>h(!1)})]})]}),Object(ne.jsxs)("div",{className:"workspace",children:[e&&Object(ne.jsx)(o.a,{severity:"error",children:e}),!r&&Object(ne.jsx)(ie,{errorMsg:e,handleSecret:i}),r&&Object(ne.jsx)(rn,{})]})]})]})})};a(770);const on=document.getElementById("root");Object(r.createRoot)(on).render(Object(ne.jsx)(i.a.StrictMode,{children:Object(ne.jsx)(sn,{})}));t.default={}}},[[771,1,2]]]);
//# sourceMappingURL=main.02de6468.chunk.js.map